# =======================================================
# WhisperEngine Production Configuration
# Production-ready configuration with security, monitoring, and performance optimization
# =======================================================

# üöÄ PRODUCTION DEPLOYMENT:
#   1. Copy to .env
#   2. Set all required secrets and keys
#   3. Review security settings
#   4. Deploy with ./bot.sh start

# =======================================================
# DISCORD CONFIGURATION (PRODUCTION)
# =======================================================
DISCORD_BOT_TOKEN=your_production_discord_bot_token_here
DISCORD_BOT_NAME=WhisperEngine
ADMIN_USER_IDS=your_admin_user_ids_comma_separated

# =======================================================
# CHARACTER CONFIGURATION (CDL)
# =======================================================
CDL_DEFAULT_CHARACTER=characters/default_assistant.json

# Production character options:
# CDL_DEFAULT_CHARACTER=characters/dream_of_the_endless.json
# CDL_DEFAULT_CHARACTER=characters/examples/elena-rodriguez.json
# CDL_DEFAULT_CHARACTER=characters/examples/marcus-chen.json

# Multi-Entity Character System Features (Production)
ENABLE_MULTI_ENTITY_RELATIONSHIPS=true
ENABLE_CHARACTER_CREATION=true
ENABLE_RELATIONSHIP_EVOLUTION=true
ENABLE_AI_FACILITATED_INTRODUCTIONS=false
ENABLE_CROSS_CHARACTER_AWARENESS=false
ENABLE_CHARACTER_SIMILARITY_MATCHING=false
ENABLE_SOCIAL_NETWORK_ANALYSIS=false

# Character System Limits (Production)
MAX_CHARACTERS_PER_USER=5
MAX_CHARACTER_NAME_LENGTH=30
MAX_CHARACTER_BACKGROUND_LENGTH=500

# Roleplay System Configuration (Production)
ENABLE_ROLEPLAY_COMMANDS=true
ROLEPLAY_MEMORY_ISOLATION=true
ROLEPLAY_AUTO_CLEAR_ON_SWITCH=true
ROLEPLAY_SESSION_TIMEOUT_MINUTES=60

# =======================================================
# LLM CONFIGURATION (PRODUCTION)
# =======================================================
# Recommended: OpenRouter for production reliability
LLM_CHAT_API_URL=https://openrouter.ai/api/v1
LLM_CHAT_API_KEY=your_production_openrouter_api_key_here
LLM_CHAT_MODEL=openai/gpt-4o-mini

# Alternative: OpenAI Direct
# LLM_CHAT_API_URL=https://api.openai.com/v1
# LLM_CHAT_API_KEY=your_production_openai_api_key_here
# LLM_CHAT_MODEL=gpt-4o-mini

# =======================================================
# MEMORY SYSTEM (PRODUCTION VECTOR-NATIVE)
# =======================================================
MEMORY_SYSTEM_TYPE=vector
VECTOR_QDRANT_HOST=qdrant
VECTOR_QDRANT_PORT=6333
VECTOR_QDRANT_COLLECTION=whisperengine_production
VECTOR_EMBEDDING_MODEL=snowflake/snowflake-arctic-embed-xs

# Vector Memory Enhancements (Production Configuration)
ENABLE_MEMORY_DECAY_SYSTEM=true
ENABLE_MEMORY_SIGNIFICANCE_SCORING=true
ENABLE_EMOTIONAL_TRAJECTORY_TRACKING=true
ENABLE_MULTI_QUERY_RETRIEVAL=false

# Memory Decay Configuration (Production Conservative)
MEMORY_DECAY_HALF_LIFE_DAYS=60
MEMORY_DECAY_MINIMUM_SCORE=0.2
MEMORY_DECAY_PROTECTION_THRESHOLD=0.9

# Emotional Intelligence Enhancement (Production Tuned)
EMOTIONAL_TRAJECTORY_WINDOW=3
EMOTIONAL_VELOCITY_THRESHOLD=0.4
EMOTIONAL_STABILITY_WINDOW=7

# Multi-Query Retrieval Configuration (Disabled in Production for Performance)
ENABLE_QUERY_VARIATIONS=false
MAX_QUERY_VARIATIONS=2
QUERY_VARIATION_WEIGHT=0.7

# =======================================================
# PHASE 1, 2 & 3 MEMORY FEATURES (PRODUCTION)
# =======================================================
# Phase Features Control (Production Stable)
ENABLE_PHASE1_ENHANCED_MEMORY=true
ENABLE_PHASE2_THREE_TIER_MEMORY=true
ENABLE_PHASE3_MEMORY_NETWORKS=true
ENABLE_PHASE4_INTELLIGENCE=true
DISABLE_PHASE2_EMOTION=false

# Phase 1: Enhanced Memory Features (Production Settings)
PHASE1_EMOTIONAL_DETECTION_ENABLED=true
PHASE1_EMOTIONAL_TRAJECTORY_ENABLED=true
PHASE1_SIGNIFICANCE_SCORING_ENABLED=true
PHASE1_SIGNIFICANCE_BASE_SCORE=0.5

# Phase 2: Three-Tier Memory & Decay (Production Optimized)
PHASE2_THREE_TIER_ENABLED=true
PHASE2_MEMORY_DECAY_ENABLED=true
PHASE2_MEMORY_DECAY_RATE=0.1
PHASE2_TIER_PROMOTE_TO_MEDIUM_SIGNIFICANCE=0.6
PHASE2_TIER_PROMOTE_TO_LONG_SIGNIFICANCE=0.8
PHASE2_MEMORY_DECAY_PROTECTION_THRESHOLD=0.8
PHASE2_MEMORY_DECAY_DELETE_THRESHOLD=0.05
EMOTION_GRAPH_SYNC_INTERVAL=300

# Tier-Specific Decay (Production Conservative)
PHASE2_DECAY_SHORT_TERM_MULTIPLIER=1.0
PHASE2_DECAY_MEDIUM_TERM_MULTIPLIER=0.5
PHASE2_DECAY_LONG_TERM_MULTIPLIER=0.1

# Phase 3: Context Awareness & Empathy Calibration (Production)
ENABLE_PHASE3_CONTEXT_DETECTION=true
ENABLE_PHASE3_EMPATHY_CALIBRATION=true
DISABLE_PHASE3_CONTEXT_DETECTION=false
DISABLE_PHASE3_EMPATHY_CALIBRATION=false

# Phase 3: Context Switch Detection Thresholds (Production Tuned)
PHASE3_TOPIC_SHIFT_THRESHOLD=0.5
PHASE3_EMOTIONAL_SHIFT_THRESHOLD=0.4
PHASE3_CONVERSATION_MODE_THRESHOLD=0.6
PHASE3_URGENCY_CHANGE_THRESHOLD=0.5
PHASE3_MAX_MEMORIES=30
PHASE3_ANALYSIS_TIMEOUT=30

# Phase 3: Empathy Calibration Parameters (Production Conservative)
PHASE3_EMPATHY_MIN_INTERACTIONS=5
PHASE3_EMPATHY_EFFECTIVENESS_THRESHOLD=0.7
PHASE3_EMPATHY_LEARNING_RATE=0.05
PHASE3_EMPATHY_CONFIDENCE_THRESHOLD=0.8

# =======================================================
# DATABASE CONFIGURATION (PRODUCTION)
# =======================================================
# PostgreSQL (production cluster)
POSTGRESQL_HOST=postgres
POSTGRESQL_PORT=5432
POSTGRESQL_DATABASE=whisper_engine_prod
POSTGRESQL_USERNAME=prod_user
POSTGRESQL_PASSWORD=your_secure_postgres_password_here

# Redis (production cluster)
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=your_secure_redis_password_here
REDIS_DB=0

# =======================================================
# VOICE SYSTEM (PRODUCTION)
# =======================================================
VOICE_SERVICE_TYPE=discord_elevenlabs

# ElevenLabs (production API)
ELEVENLABS_API_KEY=your_production_elevenlabs_api_key_here
ELEVENLABS_VOICE_ID=21m00Tcm4TlvDq8ikWAM
ELEVENLABS_MODEL_ID=eleven_monolingual_v1
ELEVENLABS_VOICE_STABILITY=0.5
ELEVENLABS_VOICE_SIMILARITY_BOOST=0.75
ELEVENLABS_VOICE_STYLE=0.0
ELEVENLABS_VOICE_USE_SPEAKER_BOOST=true

# =======================================================
# ENGAGEMENT ENGINE (PRODUCTION)
# =======================================================
ENGAGEMENT_ENGINE_TYPE=full
ENGAGEMENT_ENABLED=true
ENGAGEMENT_CHECK_INTERVAL=300
ENGAGEMENT_MEMORY_THRESHOLD=10
ENGAGEMENT_CONTEXT_WINDOW=5

# =======================================================
# CONVERSATION INTELLIGENCE
# =======================================================
PHASE4_INTEGRATION_ENABLED=true
MOMENT_DETECTION_ENABLED=true
EMOTIONAL_INTELLIGENCE_ENABLED=true
PROACTIVE_ENGAGEMENT_ENABLED=true

# =======================================================
# PRODUCTION LOGGING
# =======================================================
LOG_LEVEL=INFO
CONSOLE_LOG_LEVEL=INFO
FILE_LOG_LEVEL=WARN
DEBUG_MODE=false

# Production monitoring
PERFORMANCE_MONITORING_ENABLED=true
METRICS_COLLECTION_ENABLED=true
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PORT=9090

# =======================================================
# SECURITY & PRIVACY (PRODUCTION)
# =======================================================
# Production security
SECURITY_AUDIT_ENABLED=true
PRIVACY_MODE=production
DATA_RETENTION_DAYS=90

# Rate limiting (production values)
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=30
RATE_LIMIT_BURST_SIZE=10

# =======================================================
# PRODUCTION OPTIMIZATIONS
# =======================================================
# Performance settings
HOT_RELOAD_ENABLED=false
AUTO_RESTART_ON_ERROR=true
DEVELOPMENT_MODE=false

# Production features only
MOCK_EXTERNAL_APIS=false
SKIP_AUTHENTICATION=false
ENABLE_DEBUG_COMMANDS=false

# Memory optimization
MEMORY_DEBUG_ENABLED=false
MEMORY_PERFORMANCE_LOGGING=false

# Circuit Breaker Configuration (Production)
ENABLE_CIRCUIT_BREAKER=true
CIRCUIT_BREAKER_FAILURE_THRESHOLD=3
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=60
CIRCUIT_BREAKER_HALF_OPEN_MAX_CALLS=1

# Performance Monitoring (Production)
ENABLE_PERFORMANCE_METRICS=true
VECTOR_OPERATION_TIMEOUT=5

# =======================================================
# BACKUP & RECOVERY
# =======================================================
AUTO_BACKUP_ENABLED=true
AUTO_BACKUP_INTERVAL_HOURS=24
BACKUP_RETENTION_COUNT=30

# =======================================================
# INFRASTRUCTURE (PRODUCTION)
# =======================================================
# Disable experimental features
EXPERIMENTAL_FEATURES_ENABLED=false
BETA_MEMORY_FEATURES=false
BETA_CONVERSATION_FEATURES=false

# Production ports
HEALTH_CHECK_PORT=9090

# =======================================================
# üè≠ PRODUCTION READY!
# Verify all secrets are set
# Deploy with: ./bot.sh start
# Monitor with: ./bot.sh logs
# =======================================================